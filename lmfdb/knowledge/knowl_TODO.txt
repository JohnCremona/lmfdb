TASKS:
* Modify schema as described below
* Modify knowl code to create new entry when saving rather than updating and adding to history
* Change knowl display code to use `SELECT DISTINCT ON id FROM kwl_knowls WHERE status != 'deleted' ORDER BY timestamp DESC` rather than `lucky`
* Implement renaming: change the id for all instances in the table
* Make links column update when saving knowl
* Search with wildcards (use tilde operator and a checkbox on the search; think about details)
* Update quality restrictions on search to use status rather than quality
* Switch lock mechanism to use the new lock table.  Ignore old locks rather than deleting them
* Add autosaves by updating an inprogress knowl record
* Add a list of locks at the top of the knowl browse page which show your locks and give you links to delete the lock or start editing again
* Automatically fill in type if ends in .top or .bottom
* Add filter for showing top/bottom knowls when searching (off by default).  Never show comments knowls in main list.
* For annotations, add link back to object from display page (not when displayed as part of homepage)
* For knowls that have quality 'reviewed', check to see which should have status 1
* Add ability to view history and revert to old version
* Add ability to view diffs against old versions when editing knowl
* Delete kwl_history and kwl_deleted tables
* Update scripts that copy knowls to production
* Add column to userdb.users for knowl reviewing privledges, add review function at the bottom of the knowl view page (rather than having to explicitly edit), which should update reviewer, review_timestamp and status
* Comments knowl, id given by appending `.comments`, versioned as a normal know.  Will only show up if logged in.  Editable from the page for main knowl
* Add ability to search for knowls with comments
* Subtle indication on production site that knowls are awaiting review (at bottom)

SCHEMA MODIFICATIONS:
* Delete history column
* Rename to kwl_knowls2 and port existing data
* Fill in links for existing knowls
* Fill in source column for existing annotation knowls

New and modified columns in `kwl_knowls`
Column           | Type                        | Notes
-----------------|-----------------------------|------
status           | smallint                    | 2=reviewed, 1=needs review, 0=beta, -1=in progress, -2=deleted, default 0
type             | smallint                    | 1=top, 0=normal, -1=bottom, -2=comments, default 0
links            | text[]                      | List of knowls that this knowl refers to
source           | text                        | url for object that this knowl is an annotation for; NULL if not an annotation
reviewer         | text                        | username of reviewer
review_timestamp | timestamp without time zone | time when this knowl was marked as reviewed

Add `kwl_locks`
Column    | Type                        | Notes
----------|-----------------------------|------
id        | text                        | Id for the knowl being locked
timestamp | timestamp without time zone | Timestamp when lock was created
username  | text                        | Username of the lock requestor

Modify `userdb.user`
Column         | Type     | Notes
---------------|----------|------
knowl_reviewer | boolean  | Whether this user can review knowls

NOTES FOR WORKSHOP
* Remind people that they can use KNOWL_INC

IT WOULD BE NICE IF
* When editing a knowl, some way to find the name of a knowl that defines a particular keyword
* Some visual distinction between mathematical content and LMFDB-specific content
